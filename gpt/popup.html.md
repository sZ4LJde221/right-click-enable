# `popup/popup.html` の解説

役割

- ユーザーが現在のタブで即時に注入を行う、またはそのドメインを常時有効化/無効化するための簡易 UI を提供する。

構造の要点

- `#currentDomain` と `#domainStatus` により現在のドメインと状態を表示。
- ボタンは 3 つ: 「このドメインで有効化（有効・無効の切替）」「閉じる」。DOM はシンプルでモバイル/デスクトップ両方で見やすい設計。
- `popup.js` を読み込むことで動的に状態を問い合わせ、ボタンにイベントをバインドする。

設計意図

- ユーザー操作を起点とした注入とドメイン登録を簡潔に提供する。  
- すぐに注入（Current tab へ `injectScript` を送信）する流れと、永続設定（`enableDomain`）を分けている。

注意点

- `popup` は開かれた瞬間に `chrome.tabs.query` を使ってアクティブタブを取得するため、拡張がタブ情報にアクセスする権限（`activeTab`）があることが望ましい。
- URL のパース失敗や特殊スキームに対するフォールバック実装が必要。

要約

- `popup.html` はワンクリックでユーザーが現在のタブに注入したり、ドメインを有効化するための最低限の UI を提供する。